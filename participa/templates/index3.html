<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Un metro cuadrado</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
    <script src="js/validator.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hyperform/0.8.15/hyperform.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/hyperform/0.8.15/hyperform.min.css">
    <link type="text/css" rel="stylesheet" href="css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Lato" rel="stylesheet"> 
    <script>
        hyperform(window)
    </script>
    <style>
      #map {
        height: 450px;
        width: 450px;
		margin-bottom:20px;
      }
      #infowindow-content .title {
        font-weight: bold;
      }

      #infowindow-content {
        display: none;
      }

      #map #infowindow-content {
        display: inline;
      }

      .pac-card {
        margin: 20px 10px 0 0;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        outline: none;
      }

      #pac-container {
        padding-top: 12px;
        margin-right: 12px;
      }

      #pac-input {
        background-color: #fff;
        font-size: 15px;
        font-weight: 300;
        padding: 10px 11px 10px 13px;
        text-overflow: ellipsis;
        width: 450px !important;
      }

      #pac-input:focus {
        border-color: #4d90fe;
      }

      #title {
        color: #fff;
        background-color: #4d90fe;
        font-size: 25px;
        font-weight: 500;
        padding: 6px 12px;
      }

@media only screen and (max-width: 340px) and (min-width: 5px){	  
#pac-input {
width: 270px !important;
      }
#map {
    height: 270px;
	width: 270px;
}
    </style>
    

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-78273718-2', 'auto');
  ga('send', 'pageview');

</script>

  </head>
  <body>
  
  <section id="error">
<div id="ventana"><div id="cierre"><img src="img/x.png"></div>
<div id="alerta"><p>¡ALGO NO VA BIEN!</p>
<p>Por favor, revise los campos del formulario.</p>
<p>Uno o alguno de ellos puede estar incompleto o rellenado de forma incorrecta.</p></div>
</div>
</section>


    <div class="page-content">
       <header>
          	<div id="logo"><img src="img/libera.png"></div>
            <div id="tx_logo"><img src="img/tx_header.png"></div>
          </header>
          
          <section id="bosque">
          </section>
      
      
      <div class="container">
      	
        <section id="titulo">
        <h1>FORMULARIO DE PARTICIPACIÓN</h1>
        </section>
        
        <section id="descripcion">
        	<p>El fin de semana del 13 de mayo se celebra es el día de <strong>1m2 por la Tierra, un día para liberar mucha más vida a favor de la biodiversidad. Mediante la retirada de residuos en zonas naturales, queremos concienciar en todos los rincones posibles del país, por eso necesitamos tu ayuda. Si estás interesado en participar en tu pueblo o ciudad, rellena este formulario (una ficha por cada lugar de celebración).</p>
            <p>Para cualquier duda o sugerencia escribenos a <a href="mailto:">libera@seo.org</a></p>
            <p><strong>¡Gracias por tu participación!</strong></p>
        </section>

        <div class="row" id="caja">
            <article  id="datos">
                 	<p class="description">*Obligatorio.</p>
                     <h1>DATOS DE LOS ORGANIZADORES</h1>
                     </article>
          <div class="row clearfix" id="formulario">
              <div class="col-sm-6 col-md-6 col-lg-6">
                  <form id="form1" class="boxed-form" name="form1" method="post" role="form" data-toggle="validator">
                      <div id="success" style="display:none;">
                          <p>Your message was sent successfully!</p>
                      </div>
                      <div id="error" style="display:none">
                          <p>Something went wrong, try refreshing and submitting the form again.</p>
                      </div>
                      
                      <div class="form-group">
                          <label class="control-label">Persona de contacto*</label>
                          <p class="description">Nombre y apellidos: Para uso interno en las labores organizativas.</p>
                          <input class="form-control" value="" name="persona" type="text" required> 
                      </div>
                      
                      <div class="form-group">
                          <label class="control-label">Email de Contacto*</label>
                          <p class="description">A donde también puedan dirigirse las personas interesadas en participar.</p>
                          <input class="form-control" value="" name="email" type="email" required>
                          </div>
                      
                      <div class="form-group">
                          <label class="control-label">Teléfono de contacto*</label>
                          <p class="description">Para uso interno en las labores organizativas.</p>
                          <input class="form-control" value="" name="telefono" type="text" required>
                          </div>
                      
                      <div class="form-group">
                          <label class="control-label">Direcci&oacute;n*</label>
                          <p class="description">Donde se recibirán los materiales facilitados para el evento.</p>
                          <input class="form-control" value="" name="direccion" type="text" required>
                          </div>
                      
                      <div class="form-group">
                          <label class="control-label">Organiza*</label>
                          <p class="description">Nombre de la entidad. En caso de ser una persona física, indicar nombre y apellidos.</p>
                          <input class="form-control" value="" name="organiza" type="text" data-error="Data requerido" required>
                          </div>
                      
                      <div class="form-group">
                          <label class="control-label">Más Información*</label>
                          <p class="description">Link directo a web, blog, Facebook u otra red social, donde ampliar información de vuestras actividades. Si hubiera varias opciones, elegir una. Y si no hubiera, es necesario especificarlo.</p>
                          <input class="form-control" value="" name="masinfo" type="url">
                          </div>
 					</form>
              </div>
              <div class="col-sm-4 col-md-5 col-lg-6">
              <form id="form1" class="boxed-form" name="form1" method="post" role="form" data-toggle="validator">
              			<div class="form-group">
                          <label class="control-label">Provincia*</label>
                               <select class="form-control" id="desplegable" name="select">
                                  <option value="value1" selected>Aragón</option> 
                                  <option value="value2">Comunidad Valenciana</option>
                                  <option value="value3">Extremadura</option>
								</select>
						</div>
                          
                          <div class="form-group">
                          <label class="control-label">Localidad*</label>
                          <select class="form-control" id="desplegable" name="select">
                                  <option value="value1" selected>Madrid</option> 
                                  <option value="value2">Barcelona</option>
                                  <option value="value3">Sevilla</option>
								</select>
                          </div>
                          
                          
                          
                      <div class="pac-card" id="pac-card">
                      <label class="control-label">Lugar*</label>
                          <p class="description">Para facilitar la unión de más personas a su grupo, indique el lugar (Ej.: Parque Nacional de Doñana)y señale el punto exacto de encuentro en el mapa.</p>
                        <!-- <div>
                          <div id="title">
                            Lugares
                          </div>
                        </div> -->
                        <div id="pac-container">
                          <input id="pac-input" type="text" placeholder="Busca un lugar">
                        </div>
                      </div>
                        <div id="map"></div>
                        <div id="infowindow-content">
                          <img src="" width="16" height="16" id="place-icon">
                          <span id="place-name"  class="title"></span><br>
                          <span id="place-address"></span>
                          </div>
                      
                      <div class="form-group">
                          <label class="control-label">Hora*</label>
                          <p class="description">Hora de comienzo de la actividad.</p>
                          <select class="form-control" id="desplegable" name="select">
                                  <option value="value1" selected>13:00 h.</option> 
                                  <option value="value2">14:00 h.</option>
                                  <option value="value3">15:00 h.</option>
								</select>
                          </div>
                          
                          <div class="form-group">
                          <label class="control-label">Número de personas</label>
                          <p class="description">El número de personas que le acompañarán al evento.</p>
                          <select class="form-control" id="desplegable" name="select">
                                  <option value="value1" selected>1</option> 
                                  <option value="value2">2</option>
                                  <option value="value3">3</option>
								</select>
                          </div>
                      
                      <div class="form-group">
                          <label class="control-label">Comentarios</label>
                          <p class="description">Algo que convenga especificar. Por ejemplo, detalles acerca del lugar de encuentro.</p>
                          <textarea id="comentarios" class="form-control" rows="10" name="comentarios"></textarea>
                        </div>
                          
                       <div class="form-group">
                           <input style="width:20px; display:inline; height:0; float:left; color: #222221;" type="checkbox" onchange="this.setCustomValidity(validity.valueMissing ? 'Por favor, indica que aceptas las condiciones de participación' : '');"  required name="terms"/>Acepto participar en la celebración cumpliendo con las condiciones de participación.
                         </div>
                        <div class="form-group">
                           <input style="width:20px; display:inline; height:0; float:left; color: #222221;" type="checkbox" onchange="this.setCustomValidity(validity.valueMissing ? 'Por favor, indica que aceptas las condiciones de participación' : '');"  required name="terms"/>Al aceptar me comprometo a organizar una recogida y devolver la info a la organización.
						</div>
                             <script type="text/javascript">
                              document.getElementById("field_terms").setCustomValidity("Por favor, indica que aceptas las condiciones de participación");
                            </script>
                          </form>

						
                      
                      <button class="btn btn-default btn-top" type="submit" id="submit">ENVIAR</button>
                 </div>
          </div>
        </div>
  </div><!-- container -->
  
  <footer>
  <div id="eco"><img src="img/logo_ecoembes.png"></div>
  <div id="seo"><img src="img/logo_seo.png"></div>
  </footer>


</div> <!-- page-content -->
    <script>
      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 39.3781, lng: -3.6795366},
          zoom: 5
        });
        var card = document.getElementById('pac-card');
        var input = document.getElementById('pac-input');
        //var countries = document.getElementById('country-selector');

        //map.controls[google.maps.ControlPosition.TOP_RIGHT].push(card);

        var autocomplete = new google.maps.places.Autocomplete(input);

        // Set initial restrict to the greater list of countries.
        autocomplete.setComponentRestrictions(
            {'country': ['es']});

        var infowindow = new google.maps.InfoWindow();
        var infowindowContent = document.getElementById('infowindow-content');
        infowindow.setContent(infowindowContent);
        var marker = new google.maps.Marker({
          map: map,
          anchorPoint: new google.maps.Point(0, -29)
        });

        autocomplete.addListener('place_changed', function() {
          infowindow.close();
          marker.setVisible(false);
          var place = autocomplete.getPlace();
          if (!place.geometry) {
            // User entered the name of a Place that was not suggested and
            // pressed the Enter key, or the Place Details request failed.
            window.alert("No details available for input: '" + place.name + "'");
            return;
          }

          // If the place has a geometry, then present it on a map.
          if (place.geometry.viewport) {
            map.fitBounds(place.geometry.viewport);
          } else {
            map.setCenter(place.geometry.location);
            map.setZoom(17);  // Why 17? Because it looks good.
          }
          marker.setPosition(place.geometry.location);
          marker.setVisible(true);

          var address = '';
          if (place.address_components) {
            address = [
              (place.address_components[0] && place.address_components[0].short_name || ''),
              (place.address_components[1] && place.address_components[1].short_name || ''),
              (place.address_components[2] && place.address_components[2].short_name || '')
            ].join(' ');
          }

          infowindowContent.children['place-icon'].src = place.icon;
          infowindowContent.children['place-name'].textContent = place.name;
          infowindowContent.children['place-address'].textContent = address;
          infowindow.open(map, marker);
          document.getElementById('latitud').value = place.geometry.location;
        });

        // Sets a listener on a given radio button. The radio buttons specify
        // the countries used to restrict the autocomplete search.

      /*  function setupClickListener(id, countries) {
          var radioButton = document.getElementById(id);
          radioButton.addEventListener('click', function() {
            autocomplete.setComponentRestrictions({'country': countries});
          });
        }

        setupClickListener('changecountry-usa', 'us');
        setupClickListener(
            'changecountry-usa-and-uot', ['us', 'pr', 'vi', 'gu', 'mp']);*/
      }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA6w5d4eMIJxqEr0mM6-wBKKLz7DyEf54M&libraries=places&callback=initMap" async defer></script>
  </body>
</html>
